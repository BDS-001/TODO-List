(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(){return Math.floor(Math.random()*Date.now()).toString(16)+(new Date).getTime().toString(16)}e.d({},{C:()=>p});const n=function(){if(!localStorage.getItem("projects")){let e={};e=JSON.stringify(e),localStorage.setItem("projects",e)}return{newProject:function(e,n){const o={name:e,desc:n,id:t(),tasks:[]},a=JSON.parse(localStorage.getItem("projects"));return a[o.id]=o,localStorage.setItem("projects",JSON.stringify(a)),o},findTaskById:function(e){return JSON.parse(localStorage.getItem("tasks"))[e]},getCompletedTasks:function(e){return Object.values(JSON.parse(localStorage.getItem("tasks"))).filter((t=>t.completed&&t.project==e))},getInProgressTasks:function(e){const t=Object.values(JSON.parse(localStorage.getItem("tasks")));if(t)return t.filter((t=>!t.completed&&t.project==e))},addTask:function(e,n,a,c,r){const l=JSON.parse(localStorage.getItem("projects")),s=t(),d=o.newTask(s,n,a,e,c,r);return l[e].tasks.push(d.id),o.newTask(d),d},getAllTasks:function(e){return Object.values(JSON.parse(localStorage.getItem("tasks"))).filter((t=>t.project==e))}}}(),o=function(){if(!localStorage.getItem("tasks")){let e={};e=JSON.stringify(e),localStorage.setItem("tasks",e)}return{markComplete:function(e){const t=JSON.parse(localStorage.getItem("tasks"));t[e].completed=!0,localStorage.setItem("tasks",JSON.stringify(t))},newTask:function(e,n,o,a,c){const r={id:t(),title:e,desc:n,date:Date.now(),project:o,completed:!1,dueDate:a,priorityLevel:c},l=JSON.parse(localStorage.getItem("tasks"));return l[r.id]=r,localStorage.setItem("tasks",JSON.stringify(l)),r}}}(),a=document.querySelector(".projects"),c=document.querySelector("#content");let r=null;function l(e){e.reset()}const s=function(){const e=document.getElementById("projectForm");function t(){document.getElementById("modalOverlay").style.display="none",document.getElementById("projectModal").style.display="none",l(e)}function o(){let e=document.getElementById("projectName").value,o=document.getElementById("projectDescription").value;const a=n.newProject(e,o);p.buildProject(a),t()}return{openModal:function(){document.getElementById("modalOverlay").style.display="block",document.getElementById("projectModal").style.display="block"},setup:function(){document.querySelector(".project-close-btn").addEventListener("click",t),document.querySelector("#submit-project").addEventListener("click",o),l(e)}}}(),d=function(){const e=document.getElementById("taskForm");function t(){document.getElementById("modalOverlay").style.display="none",document.getElementById("taskModal").style.display="none",l(e)}function n(){const e=document.getElementById("taskName").value,n=document.getElementById("taskDescription").value,a=document.getElementById("due-date").value,c=document.getElementById("priority-level").value;console.log("here"),o.newTask(e,n,r.dataset.projectId,a,c),u.getContent(r),t()}return{setup:function(){document.querySelector(".task-close-btn").addEventListener("click",t),document.querySelector("#submit-task").addEventListener("click",n),l(e)},openModal:function(){document.getElementById("modalOverlay").style.display="block",document.getElementById("taskModal").style.display="block"}}}(),i=function(){function e(e){e.preventDefault(),u.getContent(e.target),function(e){r&&(r.parentNode.style.backgroundColor="inherit"),e.target.parentNode.style.backgroundColor="var(--hilight-sidebar)",r=e.target}(e)}return{changeView:e,addNavigationClickEvent:function(t){t.addEventListener("click",e)}}}(),u=function(){function e(e){c.innerHTML="";const o=document.createElement("div");o.className="content-title",o.innerHTML=`<h1 style="font-size: 50px; font-weight: bold; display: inline;">${e.dataset.title}</h1>`;const r=function(e){const t=e.dataset.projectId;if(t)return JSON.parse(localStorage.getItem("projects"))[t]}(e);r?function(e,o,r){r.append(function(e){const t=document.createElement("button");return t.id="add-task",t.innerHTML="Add Task",t.addEventListener("click",d.openModal),t}()),c.append(r);const l=n.getAllTasks(o.id);c.append(function(e){const n=document.createElement("div");return n.className="tasks-container",e.forEach((e=>{n.append(function(e,n=null){function o(e,t,n,o){const a=document.createElement(e);return a.className=t,a.textContent=n,o.appendChild(a),a}const c=document.createElement("div");c.className="task-card "+(e.completed?"completed":"");const r=o("div","meta-info","",c);if(o("p","date",`Date: ${function(e){const t=new Date(e),n=("0"+t.getDate()).slice(-2),o=("0"+(t.getMonth()+1)).slice(-2);return`${t.getFullYear().toString().slice(-2)}-${o}-${n}`}(e.date)}`,r),o("p","status",e.completed?"Completed":"Incomplete",r),n&&o("h4","project-title",`Project: ${n.title}`,c),o("h3","title",e.title,c),o("p","description",e.desc,c),o("p","",`Due Date: ${e.dueDate}`,c),o("p","",`Priority Level: ${e.priorityLevel}`,c),!e.completed){const n=o("button","btn remove-btn","Remove Task",c);n.dataset.taskId=e.id,n.addEventListener("click",a);const r=o("button","btn complete-btn","Complete Task",c);r.dataset.taskId=e.id,r.addEventListener("click",t)}return c}(e))})),n}(l))}(0,r,o):(c.append(o),function(e){"all"===e.dataset.category||"today"===e.dataset.category||"upcoming"===e.dataset.category||"anytime"===e.dataset.category||e.dataset.category}(e))}function t(t){o.markComplete(t.target.dataset.taskId),e(r)}function a(t){let n=JSON.parse(localStorage.getItem("tasks"));delete n[t.target.dataset.taskId],localStorage.setItem("tasks",JSON.stringify(n)),e(r)}return{getContent:e}}(),m=function(){document.querySelectorAll(".inbox-category").forEach((function(e){const t=e.querySelector("a");i.addNavigationClickEvent(t)}))},p=function(){function e(e){e.preventDefault(),s.openModal()}function t(e){const t=document.createElement("div");t.className="sidebar-element";const n=document.createElement("i");n.className="bi bi-dot";const o=document.createElement("a");o.innerHTML=e.name,o.setAttribute("href","javascript:;"),i.addNavigationClickEvent(o),o.dataset.title=e.name,o.dataset.projectId=e.id,t.append(n),t.append(o),a.append(t)}return{setup:function(){document.querySelector("#add-project").addEventListener("click",e),Object.values(JSON.parse(localStorage.getItem("projects"))).forEach((e=>{t(e)}))},buildProject:t}}();m(),p.setup(),s.setup(),d.setup()})();