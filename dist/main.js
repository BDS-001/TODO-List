(()=>{"use strict";const t=function(t){localStorage.setItem("projects",JSON.stringify({}));const e=JSON.parse(localStorage.getItem("projects"));console.log(e),e[`${t.id}`]=t,localStorage.setItem("projects",JSON.stringify(e)),console.log(localStorage.getItem("projects"))};class e{constructor(t,e){this.name=t,this.desc=e,this.id=this.generateUniqueId(),this.tasks=[]}addTask(t,e){const o=this.generateUniqueId(),c=new n(o,t,e,this.name);return this.tasks.push(c),c}markTaskCompleted(t){const e=this.findTaskById(t);return!!e&&(e.markComplete(),!0)}generateUniqueId(){return Math.floor(Math.random()*Date.now()).toString(16)+(new Date).getTime().toString(16)}findTaskById(t){return this.tasks.find((e=>e.id===t))}getInProgressTasks(){return this.tasks.filter((t=>!t.completed))}getCompletedTasks(){return this.tasks.filter((t=>t.completed))}}class n{constructor(t,e,n,o){this.id=t,this.title=e,this.desc=n,this.date=Date.now(),this.project=o,this.completed=!1}markComplete(){this.completed=!0}}const o=document.querySelector(".projects"),c=document.querySelector("#content"),s=function(){let t=null;function e(e){e.preventDefault(),a.getContent(e.target),function(e){t&&(t.style.backgroundColor="inherit"),e.target.parentNode.style.backgroundColor="var(--hilight-sidebar)",t=e.target.parentNode}(e)}return{changeView:e,addNavigationClickEvent:function(t){t.addEventListener("click",e)}}}(),a={getContent:function(t){c.innerHTML=t.dataset.title;const e=function(t){const e=t.dataset.projectId;if(e)return projectsList.filter((t=>t.id===e))[0]}(t);var n;e&&(n=e,function(){const t=document.createElement("button");t.id="add-task",t.innerHTML="Add Task",c.append(t)}(),n.addTask("first task","we need to finish this"),n.addTask("second task","call cleints and confirm something"),function(t){t.getInProgressTasks().forEach((t=>{const e=document.createElement("div");e.textContent=`Task: ${t.title}, Description: ${t.desc}, Date: ${t.date}, Completed: ${t.completed}`,c.appendChild(e)}))}(n))}},r=function(){function t(){document.getElementById("modalOverlay").style.display="none",document.getElementById("projectModal").style.display="none",c()}function n(){let n=document.getElementById("projectName").value,c=document.getElementById("projectDescription").value;const a=new e(n,c);!function(t){const e=document.createElement("div");e.className="sidebar-element";const n=document.createElement("i");n.className="bi bi-dot";const c=document.createElement("a");c.innerHTML=t.name,c.setAttribute("href","javascript:;"),s.addNavigationClickEvent(c),c.dataset.title=t.name,c.dataset.projectId=t.id,e.append(n),e.append(c),o.append(e)}(a),projectsList.push(a),t()}function c(){const t=document.querySelectorAll(".modal-data");console.log(t),t.forEach((function(t){t.value=""}))}return{openModal:function(){document.getElementById("modalOverlay").style.display="block",document.getElementById("projectModal").style.display="block"},setup:function(){document.querySelector(".close-btn").addEventListener("click",t),document.querySelector("#submit-project").addEventListener("click",n),c()}}}(),i=function(){document.querySelectorAll(".inbox-category").forEach((function(t){const e=t.querySelector("a");s.addNavigationClickEvent(e)}))},l=function(){function t(t){t.preventDefault(),r.openModal()}return{setup:function(){document.querySelector("#add-project").addEventListener("click",t)}}}();!function(){if(i(),l.setup(),r.setup(),!localStorage.getItem("projects")){let t={};t=JSON.stringify(t),localStorage.setItem("projects",t)}t(new e("test","test")),localStorage.clear(),console.log(localStorage.getItem("projects"))}()})();